{"version":3,"sources":["app.js"],"names":["window","document","gtag","dataLayer","push","arguments","onEnterViewport","element","pixelsAround","toggleClassName","once","showingContainer","rectangle","handler","Date","querySelector","getBoundingClientRect","height","scrollY","top","bottom","classList","toggle","removeEventListener","addEventListener","updateURLFragmentOnScroll","fragments","fragmentPositions","map","fragment","startPosition","Math","round","id","history","pushState","getShowingFragment","reduce","fragmentPosition","startPos","Array","from","querySelectorAll"],"mappings":";CAAA,SAAWA,EAAQC,GACjB,aAGSC,SAAAA,IAAUC,UAAUC,KAAKC,WA8BzBC,IAAiBC,EAA0E,EAA/DC,EAAAA,EAAkBC,EAAAA,EAA6BC,EAAAA,EAC5EC,EACAC,EAMAC,EAvCRb,EAAOG,UAAYH,EAAOG,WAAa,GAEvCD,EAAK,KAAM,IAAIY,MAEfZ,EAAK,SAAU,kBA2BWK,EAzBV,gBAyBqBC,GAA+D,EAzBnE,CAAEA,aAAc,IAAKE,MAAM,IAyBvBF,aAAAA,OAAe,IAAA,EAAA,EAAgD,EAA7CC,EAAAA,EAAAA,gBAAAA,OAAkB,IAAA,EAAA,UAA2B,EAAhBC,EAAAA,EAAAA,KAAAA,OAAO,IAAA,GAAS,EAC5FC,EAAmBV,EAASc,cAAcR,GAC1CK,EAAYD,EAAiBK,wBAM7BH,EAAU,SAAVA,IAJiB,IAAAI,EAAAA,EAKFjB,EAAOkB,SAJ1BN,EAAUO,IAAMX,GAAgBS,GAChCL,EAAUQ,OAASZ,GAAgBS,KAIjCN,EAAiBU,UAAUC,OAAOb,GAC9BC,GACFV,EAAOuB,oBAAoB,SAAUV,KAK3Cb,EAAOwB,iBAAiB,SAAUX,GAClCA,IAxCOY,SAA2BC,GAC5BC,IAAAA,EAAoBD,EAAUE,IAAI,SAAAC,GAAa,MAAA,CACnDC,cACEC,KAAKC,MAAMH,EAASb,wBAAwBG,IAAMnB,EAAOkB,SAAW,EACtEW,SAAUA,EAASI,MAUfpB,EAAU,WACdb,OAAAA,EAAOkC,QAAQC,UAAU,KAAM,KAAUC,IAAAA,OAPzCT,EAAkBU,OAChB,SAACR,EAAUS,GACTtC,OAAAA,EAAOkB,SAAWoB,EAAiBC,SAAWD,EAAiBT,SAAWA,GAC5EF,EAAkB,GAAGE,aAMzBhB,IACAb,EAAOwB,iBAAiB,SAAUX,GApBpCY,CAA0Be,MAAMC,KAAKxC,EAASyC,iBAAiB,aAVjE,CAuDG1C,OAAQC","file":"app.e6bf399d.js","sourceRoot":"src","sourcesContent":["(function (window, document) {\n  'use strict'\n\n  window.dataLayer = window.dataLayer || []\n  function gtag () { dataLayer.push(arguments) }\n  gtag('js', new Date())\n\n  gtag('config', 'UA-163921147-1')\n\n  onEnterViewport('.project-list', { pixelsAround: 200, once: true })\n  updateURLFragmentOnScroll(Array.from(document.querySelectorAll('section')))\n\n  function updateURLFragmentOnScroll (fragments) {\n    const fragmentPositions = fragments.map(fragment => ({\n      startPosition:\n        Math.round(fragment.getBoundingClientRect().top + window.scrollY) - 1,\n      fragment: fragment.id\n    }))\n\n    const getShowingFragment = () =>\n      fragmentPositions.reduce(\n        (fragment, fragmentPosition) =>\n          window.scrollY >= fragmentPosition.startPos ? fragmentPosition.fragment : fragment,\n        fragmentPositions[0].fragment\n      )\n\n    const handler = () =>\n      window.history.pushState(null, null, `#${getShowingFragment()}`)\n\n    handler()\n    window.addEventListener('scroll', handler)\n    return () => window.removeEventListener('scroll', handler)\n  }\n\n  function onEnterViewport (element, { pixelsAround = 0, toggleClassName = 'showing', once = false }) {\n    const showingContainer = document.querySelector(element)\n    const rectangle = showingContainer.getBoundingClientRect()\n\n    const isWithinLimits = height =>\n      rectangle.top - pixelsAround >= height ||\n      rectangle.bottom + pixelsAround <= height\n\n    const handler = () => {\n      if (isWithinLimits(window.scrollY)) {\n        showingContainer.classList.toggle(toggleClassName)\n        if (once) {\n          window.removeEventListener('scroll', handler)\n        }\n      }\n    }\n\n    window.addEventListener('scroll', handler)\n    handler()\n    return () => window.removeEventListener('scroll', handler)\n  }\n})(window, document)\n"]}